<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Create color palette with Javascript" />
    <meta name="keywords" content="JavaScript, Color spaces, Color palette, Color quantization" />
    <meta name="author" content="Zygimantas Sniurevicius with mods and additions by John Warhus" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color palette extractor</title>
    <link rel='shortcut icon' href='./color-palette-extractor/favicon.ico' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
          crossorigin="anonymous">
    <link rel="stylesheet" href="./color-palette-extractor/custom.css"/>
</head>
<body>
    <div class="container-fluid mw-95" id="container">
        <section>
            <h3 class="text-uppercase text-center mt-2">Color palette extractor</h3>
            <form id="form" class="form-border rounded mb-3 p-2" action="#">
                <div class="row p-2">
                    <div id="imgfileCont" class="col-auto mb-2">
                        <label for="imgfile" class='form-label fs-5'>
                            Select image file*
                        </label>
                        <input id="imgfile" class="form-control"
                               type="file" value="Select file" />
                    </div>
                    <div class="col-auto">
                        <label for='colors' class='form-label fs-5'>
                            Palette colors
                        </label>
                        <select id='colors' name='colors' class='form-select'>
                            <option value=3>8, min</option>
                            <option value=4>16</option>
                            <option value=5>32</option>
                            <option value=6>64</option>
                            <option value=7>128</option>
                            <option value=8>256, max.</option>
                        </select>
                    </div>
                    <div class="col-auto pt-4">
                        <input id="btnLoad" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Load File" accept="image/*" />
                    </div>
                    <div class="col-auto pt-4">
                        <input id="btnReset" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Reset Page" />
                    </div>
                </div>
            </form>
            <div class='row'>
                <div class="col text-center mb-0">
                    <span id="spinner" class="spinner-border mx-auto" role="status"></span>
                    <canvas id="sIcanvas"></canvas>
                    <h4 class="mb-2">Selected image</h4>
                </div>
                <div class="col text-center mb-0">
                    <span id="spinner1" class="spinner-border mx-auto" role="status"></span>
                    <canvas id="qIcanvas"></canvas>
                    <h4 class='mb-2'><span class="h4" id="num_colors"></span>-color image</h4>
                </div>
                <h4 class="text-center mb-3">Image filename: &nbsp; <span class="h4" id="filename"></span></h4>
            </div>
            <form id="form1" class="form-border rounded mb-3 p-2">
                <div class="row p-2">
                    <div id="bkgd_color_control" class="col-auto text-center mb-2">
                        <label for='bkgd_color' class="form-label d-block my-2 fs-5">
                            Palette Background Color:
                            <span id="p_bkgd" class="fs-5"></span>
                        </label>
                        <input id="bkgd_color" type="range" class="form-range"
                               min="0" max="255" />
                    </div>
                    <div class="col-auto">
                        <input id='bkdg_color_reset' type="reset"
                               class="form-control btn jwa-btn m-3"
                               value="Reset Background Color" />
                    </div>
                    <div class="col-auto">
                        <input id="hide_caps" type="button"
                               class="form-control btn jwa-btn m-3"
                               value="Show / Hide Palette Text" />
                    </div>
                </div>
            </form>
            <hr />
            <div class="text-center">
                <h4>Image color palette (sorted by lightness)</h4>
                <div id="palette" class="row mx-1 p-3 rounded"></div>
            </div>
            <hr />
            <div class="text-center">
                <h4>Complementary color palette (sorted by lightness)</h4>
                <div id="complementary" class="row mx-1 p-3 rounded ms-0"></div>
            </div>
            <hr />
            <footer class="mt-5 mb-5 text-center">
                <span id="footer">&copy;John Warhus 2023</span>
            </footer>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" 
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="./color-palette-extractor/mccq.js"></script>
    <script type="text/javascript" src="./color-palette-extractor/bkgd_controls.js"></script>
</body>
</html>
